# –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è –≤—Ö–æ–¥–∞ –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞

## üé§ –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

–í Ubuntu —Å PipeWire –º–∏–∫—Ä–æ—Ñ–æ–Ω –º–æ–∂–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–Ω–∏–∂–∞—Ç—å —É—Ä–æ–≤–µ–Ω—å –≤—Ö–æ–¥–∞ –∫–æ–≥–¥–∞ –≤—ã:

-   –ö–∞—à–ª—è–µ—Ç–µ
-   –ì—Ä–æ–º–∫–æ –≥–æ–≤–æ—Ä–∏—Ç–µ
-   –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ —Ä–µ–∑–∫–∏–µ –∑–≤—É–∫–∏

–†–µ–∑—É–ª—å—Ç–∞—Ç: –ø–æ–ª–∑—É–Ω–æ–∫ "Input Volume" —Å–¥–≤–∏–≥–∞–µ—Ç—Å—è –≤–ª–µ–≤–æ, –∏ —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–∏ –ø–µ—Ä–µ—Å—Ç–∞—é—Ç –≤–∞—Å —Å–ª—ã—à–∞—Ç—å.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

–°–∫—Ä–∏–ø—Ç `fix-input-level.sh` –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–∞–µ—Ç —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É.

### üõ†Ô∏è –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç:

1. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —É—Ä–æ–≤–µ–Ω—å –∫–∞–∂–¥—ã–µ 0.2 —Å–µ–∫—É–Ω–¥—ã
2. **–ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ** - –ø—Ä–∏ —Å–Ω–∏–∂–µ–Ω–∏–∏ –Ω–∏–∂–µ 95% —Å—Ä–∞–∑—É –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –¥–æ 100%
3. **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –∑–∞—â–∏—Ç–∞** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç wpctl, pactl –∏ amixer –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
4. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è WirePlumber** - –±–ª–æ–∫–∏—Ä—É–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å–∏—Å—Ç–µ–º–Ω–æ–º —É—Ä–æ–≤–Ω–µ
5. **–ê–≤—Ç–æ–∑–∞–ø—É—Å–∫** - systemd —Å–µ—Ä–≤–∏—Å –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å–∏—Å—Ç–µ–º—ã

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ü–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (–æ–¥–∏–Ω —Ä–∞–∑)

```bash
./utils/mic/fix-input-level.sh
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
./utils/mic/fix-input-level.sh --status

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
./utils/mic/fix-input-level.sh --restart

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
./utils/mic/fix-input-level.sh --stop

# –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
./utils/mic/fix-input-level.sh --test
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ systemd

```bash
# –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞
systemctl --user status mic-level-keeper

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
systemctl --user restart mic-level-keeper

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
systemctl --user stop mic-level-keeper

# –ó–∞–ø—É—Å–∫
systemctl --user start mic-level-keeper
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏

```bash
# –°–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
tail -f /tmp/mic-level-keeper.log

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–ø–∏—Å–∏
tail -10 /tmp/mic-level-keeper.log
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞
wpctl get-volume 55

# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ —Å–Ω–∏–∑–∏—Ç—å –¥–ª—è —Ç–µ—Å—Ç–∞
wpctl set-volume 55 0.3

# –ü–æ–¥–æ–∂–¥–∞—Ç—å 1-2 —Å–µ–∫—É–Ω–¥—ã –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
wpctl get-volume 55
```

## üìÅ –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

-   `~/.local/bin/mic-level-keeper` - –æ—Å–Ω–æ–≤–Ω–æ–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
-   `~/.config/systemd/user/mic-level-keeper.service` - –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫
-   `~/.config/wireplumber/main.lua.d/99-disable-input-auto-control.lua` - –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ WirePlumber

### –õ–æ–≥–∏ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

-   `/tmp/mic-level-keeper.log` - –ª–æ–≥–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
-   `~/.local/share/mic-level-keeper.pid` - PID –ø—Ä–æ—Ü–µ—Å—Å–∞

## üîß –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –ü—Ä–æ–±–ª–µ–º–∞: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
./Linux/fix-input-level.sh --status

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
./Linux/fix-input-level.sh --restart

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
tail -5 /tmp/mic-level-keeper.log
```

### –ü—Ä–æ–±–ª–µ–º–∞: –£—Ä–æ–≤–µ–Ω—å –≤—Å–µ –µ—â–µ —Å–Ω–∏–∂–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
./Linux/fix-input-level.sh --test

# –ï—Å–ª–∏ —Ç–µ—Å—Ç –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç, –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
./Linux/fix-input-level.sh
```

### –ü—Ä–æ–±–ª–µ–º–∞: –°–µ—Ä–≤–∏—Å –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

```bash
# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å systemd
systemctl --user daemon-reload

# –í–∫–ª—é—á–∏—Ç—å —Å–µ—Ä–≤–∏—Å
systemctl --user enable mic-level-keeper.service

# –ó–∞–ø—É—Å—Ç–∏—Ç—å
systemctl --user start mic-level-keeper.service
```

## ‚ö° –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

-   ‚úÖ –ü–æ–ª–∑—É–Ω–æ–∫ "Input Volume" –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–∞ –º–µ—Å—Ç–µ
-   ‚úÖ –ü—Ä–∏ —Å–Ω–∏–∂–µ–Ω–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∑–∞ 0.2-0.4 —Å–µ–∫—É–Ω–¥—ã
-   ‚úÖ –°–æ–±–µ—Å–µ–¥–Ω–∏–∫–∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ –≤–∞—Å —Å–ª—ã—à–∞—Ç
-   ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å–∏—Å—Ç–µ–º—ã
-   ‚úÖ –ù–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –¥—Ä—É–≥–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ (—ç—Ö–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ, —à—É–º–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ)

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö:

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ: `./Linux/fix-input-level.sh --status`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `tail -10 /tmp/mic-level-keeper.log`
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ: `./Linux/fix-input-level.sh --test`

---

## üìù –†–∞–∑–Ω–∏—Ü–∞ —Å–æ —Å–∫—Ä–∏–ø—Ç–æ–º micro.sh

-   **`micro.sh`** - –±–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞, –ù–ï —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è
-   **`fix-input-level.sh`** - –ø–æ–ª–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è –≤—Ö–æ–¥–∞

**–î–ª—è —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–ª–∑—É–Ω–∫–æ–º –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¢–û–õ–¨–ö–û `fix-input-level.sh`!**

---

**–í–µ—Ä—Å–∏—è:** 2.0 **–î–∞—Ç–∞:** 2025
